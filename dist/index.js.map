{"version":3,"sources":["../src/index.js"],"names":["bluebird","promisifyAll","redis","IntervalHelper","process","env","NODE_ENV","require","load","client","createClient","REDIS_URL","bot","Telegraf","BOT_TOKEN","telegram","Telegram","start","ctx","getChat","chat","updateInterval","id","replyWithSticker","startPolling"],"mappings":";;AAAA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAGA;;AACA;;;;;;;;AAHAA,mBAASC,YAAT,CAAsBC,eAAtB;;AAKA,IAAIC,8BAAJ;;AAEA,IAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,KAA7B,EAAoC;AAChCC,YAAQ,QAAR,EAAkBC,IAAlB;AACH;;AAED,IAAMC,SAASP,gBAAMQ,YAAN,CAAmBN,QAAQC,GAAR,CAAYM,SAA/B,CAAf;;AAEA,IAAMC,MAAM,IAAIC,kBAAJ,CAAaT,QAAQC,GAAR,CAAYS,SAAzB,CAAZ;AACA,IAAMC,WAAW,IAAIC,kBAAJ,CAAaZ,QAAQC,GAAR,CAAYS,SAAzB,CAAjB;;AAEAF,IAAIK,KAAJ;AAAA,uEAAU,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACaA,IAAIC,OAAJ,EADb;;AAAA;AACAC,4BADA;;AAENjB,uDAAekB,cAAf,CAA8BD,KAAKE,EAAnC,EAAuCb,MAAvC,EAA+CM,QAA/C;AACAG,4BAAIK,gBAAJ,CAAqB,gCAArB;;AAHM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAV;;AAAA;AAAA;AAAA;AAAA;;AAMA,wBAAaX,GAAb,EAAkBG,QAAlB,EAA4BN,MAA5B;AACAG,IAAIY,YAAJ","file":"index.js","sourcesContent":["import 'babel-polyfill';\nimport Telegraf from 'telegraf';\nimport Telegram from 'telegraf/telegram';\nimport redis from 'redis';\nimport bluebird from 'bluebird';\nbluebird.promisifyAll(redis);\n\nimport { IntervalHelper } from './intervalHelper';\nimport loadCommands from './commands';\n\nnew IntervalHelper();\n\nif (process.env.NODE_ENV === 'dev') {\n    require('dotenv').load();\n}\n\nconst client = redis.createClient(process.env.REDIS_URL);\n\nconst bot = new Telegraf(process.env.BOT_TOKEN);\nconst telegram = new Telegram(process.env.BOT_TOKEN);\n\nbot.start(async ctx => {\n    const chat = await ctx.getChat();\n    IntervalHelper.updateInterval(chat.id, client, telegram);\n    ctx.replyWithSticker('CAADAgADxQADV08VCEQYKX_LsRKaAg')\n});\n\nloadCommands(bot, telegram, client);\nbot.startPolling();"]}