{"version":3,"sources":["../src/intervalHelper.js"],"names":["IntervalHelper","intervals","chatId","client","telegram","clearInterval","getAsync","schedule","setInterval","date","Date","milisec","getTimezoneOffset","dataMinsk","getTime","getHours","getMinutes","hours","minutes","console","log","indexOf","sendSticker"],"mappings":";;;;;;;;;;;;IAAaA,c,WAAAA,c;AAGT,8BAAc;AAAA;;AACVA,uBAAeC,SAAf,GAA2B,EAA3B;AACH;;;;;iGAE2BC,M,EAAQC,M,EAAQC,Q;;;;;;;;AACxC,oCAAIJ,eAAeC,SAAf,CAAyBC,MAAzB,CAAJ,EAAsC;AAClCG,kDAAcL,eAAeC,SAAf,CAAyBC,MAAzB,CAAd;AACH;;;uCAEsBC,OAAOG,QAAP,CAAgBJ,MAAhB,C;;;AAAjBK,wC;;sCACFA,aAAa,I;;;;;;;;;AAIjBP,+CAAeC,SAAf,CAAyBC,MAAzB,IAAmCM,oEAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACrCC,wDADqC,GAC9B,IAAIC,IAAJ,EAD8B;AAErCC,2DAFqC,GAE3B,CAAEF,KAAKG,iBAAL,KAA2B,EAA3B,GAAgC,CAAC,CAAlC,GAAuC,CAAxC,IAA6C,EAA7C,GAAkD,EAAlD,GAAuD,IAF5B;AAGrCC,6DAHqC,GAGzB,IAAIH,IAAJ,CAASD,KAAKK,OAAL,KAAiBH,OAA1B,CAHyB;AAAA,4DAIlB,CAACE,UAAUE,QAAV,EAAD,EAAuBF,UAAUG,UAAV,EAAvB,CAJkB,EAIpCC,KAJoC,aAI7BC,OAJ6B;;AAK3CC,4DAAQC,GAAR,CAAY,SAAZ,EAAuBb,QAAvB,EAAiCU,KAAjC,EAAwCC,OAAxC;AACA,wDAAIX,SAASc,OAAT,CAAoBJ,KAApB,UAA6BC,UAAU,EAAV,GAAe,MAAMA,OAArB,GAA+BA,OAA5D,OAA2E,CAAC,CAAhF,EAAmF;AAC/Ed,iEAASkB,WAAT,CAAqBpB,MAArB,EAA6B,gCAA7B;AACH;;AAR0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAZ,IAShC,KATgC,CAAnC;;;;;;;;;;;;;;;;;;;;;AAjBKF,c,CACFC,S,GAAY,E","file":"intervalHelper.js","sourcesContent":["export class IntervalHelper {\n    static intervals = {};\n\n    constructor() {\n        IntervalHelper.intervals = {};\n    }\n\n    static async updateInterval(chatId, client, telegram) {\n        if (IntervalHelper.intervals[chatId]) {\n            clearInterval(IntervalHelper.intervals[chatId]);\n        }\n\n        const schedule = await client.getAsync(chatId);\n        if (schedule === null) {\n            return;\n        }\n\n        IntervalHelper.intervals[chatId] = setInterval(async () => {\n            const date = new Date();\n            const milisec = ((date.getTimezoneOffset() / 60 * -1) + 3) * 60 * 60 * 1000;\n            const dataMinsk = new Date(date.getTime() + milisec);\n            const [hours, minutes] = [dataMinsk.getHours(), dataMinsk.getMinutes()];\n            console.log('checked', schedule, hours, minutes);\n            if (schedule.indexOf(`${hours}:${minutes < 10 ? '0' + minutes : minutes}`) !== -1) {\n                telegram.sendSticker(chatId, 'CAADAgADnwADV08VCMRycuQqC77iAg');\n            }\n        }, 10000);\n    }\n}"]}