{"version":3,"sources":["../src/intervalHelper.js"],"names":["IntervalHelper","intervals","chatId","client","telegram","clearInterval","getAsync","schedule","setInterval","date","Date","getHours","getMinutes","hours","minutes","indexOf","sendSticker"],"mappings":";;;;;;;;;;;;IAAaA,c,WAAAA,c;AAGT,8BAAc;AAAA;;AACVA,uBAAeC,SAAf,GAA2B,EAA3B;AACH;;;;;iGAE2BC,M,EAAQC,M,EAAQC,Q;;;;;;;;AACxC,oCAAIJ,eAAeC,SAAf,CAAyBC,MAAzB,CAAJ,EAAsC;AAClCG,kDAAcL,eAAeC,SAAf,CAAyBC,MAAzB,CAAd;AACH;;;uCAEsBC,OAAOG,QAAP,CAAgBJ,MAAhB,C;;;AAAjBK,wC;;sCACFA,aAAa,I;;;;;;;;;AAIjBP,+CAAeC,SAAf,CAAyBC,MAAzB,IAAmCM,oEAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACrCC,wDADqC,GAC9B,IAAIC,IAAJ,EAD8B;AAAA,4DAElB,CAACD,KAAKE,QAAL,EAAD,EAAkBF,KAAKG,UAAL,EAAlB,CAFkB,EAEpCC,KAFoC,aAE7BC,OAF6B;;;AAI3C,wDAAIP,SAASQ,OAAT,CAAoBF,KAApB,UAA6BC,UAAU,EAAV,GAAe,MAAMA,OAArB,GAA+BA,OAA5D,OAA2E,CAAC,CAAhF,EAAmF;AAC/EV,iEAASY,WAAT,CAAqBd,MAArB,EAA6B,gCAA7B;AACH;;AAN0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAZ,IAOhC,KAPgC,CAAnC;;;;;;;;;;;;;;;;;;;;;AAjBKF,c,CACFC,S,GAAY,E","file":"intervalHelper.js","sourcesContent":["export class IntervalHelper {\n    static intervals = {};\n\n    constructor() {\n        IntervalHelper.intervals = {};\n    }\n\n    static async updateInterval(chatId, client, telegram) {\n        if (IntervalHelper.intervals[chatId]) {\n            clearInterval(IntervalHelper.intervals[chatId]);\n        }\n\n        const schedule = await client.getAsync(chatId);\n        if (schedule === null) {\n            return;\n        }\n\n        IntervalHelper.intervals[chatId] = setInterval(async () => {\n            const date = new Date();\n            const [hours, minutes] = [date.getHours(), date.getMinutes()];\n\n            if (schedule.indexOf(`${hours}:${minutes < 10 ? '0' + minutes : minutes}`) !== -1) {\n                telegram.sendSticker(chatId, 'CAADAgADnwADV08VCMRycuQqC77iAg');\n            }\n        }, 60000);\n    }\n}"]}